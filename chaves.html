<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="area">

    </div>

    <script>
        let textArea = document.getElementById('area')

        let data = {
            'firstname' : '',
            'lastname' : '',
            'email' : '',
            'password' : '',
            'confirm' : ''
        }

        let firstName = document.createElement('p')
        let lastName = document.createElement('p')
        let emailError = document.createElement('p')
        let passError = document.createElement('p')
        let confirmError = document.createElement('p')

        let FNInput = document.createElement('input')
        let LNInput = document.createElement('input')
        let EmailInput = document.createElement('input')
        let PassInput = document.createElement('input')
        let ConfirmInput = document.createElement('input')

        let submitButton = document.createElement('button')

        let div1 = document.createElement('div')
        let div2 = document.createElement('div')
        let div3 = document.createElement('div')
        let div4 = document.createElement('div')
        let div5 = document.createElement('div')
        let div6 = document.createElement('div')

        textArea.style = "text-align: center; margin-top: 15rem;"
        firstName.style = "display: inline; margin-right: 8px;"
        lastName.style = "display: inline;"

        FNInput.style = "margin: 10px 0px 10px;"
        LNInput.style = "margin: 10px;"

        EmailInput.style = "margin: 4px;"
        PassInput.style = "margin: 10px;"


        FNInput.setAttribute('placeholder', 'firstname')
        LNInput.setAttribute('placeholder', 'lastname')
        EmailInput.setAttribute('placeholder', 'email')
        PassInput.setAttribute('placeholder', 'password')
        PassInput.setAttribute('type', 'password')

        ConfirmInput.setAttribute('placeholder', 'confirm')
        ConfirmInput.setAttribute('type', 'password')


        FNInput.addEventListener('input', function(event){
            firstName.innerText = event.target.value
            data.firstname = event.target.value
        });

        LNInput.addEventListener('input', function(event){
            lastName.innerText = event.target.value
            data.lastname = event.target.value
        });

        EmailInput.addEventListener('input', function(event){
            data.email = event.target.value
            if (!event.target.value.includes('@' && '.')){
                emailError.innerText = "Input Valid Email!"
                emailError.style = "color: #FF0000; margin-right: 0.5rem;"
            } else{
                emailError.innerText = ''
            }
        });

        PassInput.addEventListener('input', function(event){
            data.password = event.target.value
            if (!event.target.value.match(/^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})/)){
                passError.innerText = "Weak Password"
                passError.style = "color: #FF0000; margin-right: 0.5rem;"
            }
            else if (event.target.value.match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/)){
                passError.innerText = "Strong Password"
                passError.style = "color: #00A318; margin-right: 0.5rem;"
            }
        });

        ConfirmInput.addEventListener('input', function(event){
            data.confirm = event.target.value
            if(event.target.value === PassInput.value){
                confirmError.innerText = ""
                confirmError.style = "margin-right: 2.5rem;"
            } else {
                confirmError.innerText = "Password Must Match!"
                confirmError.style = "color: #FF0000; margin-right: 0.5rem;"
            }
        });

        submitButton.addEventListener('click', function(event){
            if (!data.email.includes('@' && '.') || data.password.length < 15 ){
                alert("Please input again!");
            } else {
                console.log(data)
            }
        });

        firstName.innerText = "Firstname"
        lastName.innerText = "Lastname"
        submitButton.innerText = "Submit"

        textArea.append(firstName)
        div1.append(FNInput)
        textArea.append(lastName)
        div2.append(LNInput)

        div3.append(EmailInput)
        div3.append(emailError)
        div4.append(PassInput)
        div4.append(passError)
        div5.append(ConfirmInput)
        div5.append(confirmError)

        div6.append(submitButton)

        textArea.append(div1)
        textArea.append(div2)
        textArea.append(div3)
        textArea.append(div4)
        textArea.append(div5)
        textArea.append(div6)

    </script>
</body>
</html>